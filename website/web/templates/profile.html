{% extends "base.html" %}
{% block title %}
Dashboard
{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='profile.css') }}">
{% endblock %}

{% block content %}

<h1 class="page-title">{{ user.username }}'s Profile Page</h1>

<div class="dashboard-section">
  <h2>My Details</h2>
  <div class="section-header">
    <a href="{{ url_for('views.edit_profile_details') }}" class="btn btn-primary btn-sm">Edit</a>
  </div>
  <ul>
    <li><strong>Username:</strong> {{ user.username }}</li>
    <li><strong>Email:</strong> {{ user.email if user.email else "N/A" }}</li>
    <li><strong>Phone Number:</strong> {{ user.phone if user.phone else "N/A" }}</li>
  </ul>
</div>

<div class="dashboard-section">
  <h2>My Businesses</h2>
  <a href="{{ url_for('views.new_business') }}" class="button green">Create New Business</a>
  <ul>
    {% if owned_businesses %}
      {% for business in owned_businesses %}
        <li>
          <a href="{{ url_for('views.business_page', business_name=business.name) }}">
            {{ business.name }}
          </a>
        </li>
      {% endfor %}
    {% else %}
      <li>You haven't created any businesses yet.</li>
    {% endif %}
  </ul>
</div>

<div class="dashboard-section">
  <h2>Businesses Shared With Me</h2>
  <ul>
    {% if shared_businesses %}
      {% for business in shared_businesses %}
        <li>
          <a href="{{ url_for('views.business_page', business_name=business.name) }}">
            {{ business.name }}
          </a>
        </li>
      {% endfor %}
    {% else %}
      <li>No businesses have been shared with you.</li>
    {% endif %}
  </ul>
</div>

{% endblock %}